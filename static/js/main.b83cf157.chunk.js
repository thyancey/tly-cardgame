(this["webpackJsonptly-react-2020"]=this["webpackJsonptly-react-2020"]||[]).push([[0],{23:function(n,t,e){"use strict";(function(n){var r=e(8),a=e(1),o=e(0),c=e.n(o),i=e(2),u=e(6),l=e(7),d=e(9),s=e(3);function f(){var n=Object(a.a)(["\n"]);return f=function(){return n},n}function b(){var n=Object(a.a)(["\n  text-align:left;\n"]);return b=function(){return n},n}function m(){var n=Object(a.a)(["\n  position:absolute;\n  right:100%;\n  top:50%;\n"]);return m=function(){return n},n}function h(){var n=Object(a.a)(["\n  position:absolute;\n  width:100%;\n  height:100%;\n  left:0;\n  top:0;\n  border-left:0;\n\n  border-radius: 10px;\n  background-color: ",";\n  border: 10px solid white;\n  z-index:-1;\n"]);return h=function(){return n},n}function g(){var n=Object(a.a)(["\n  position:absolute;\n  padding:20px;\n  margin-left: 40px;\n  \n  opacity:0;\n  &.showing{\n    opacity:1;\n    transition: opacity .5s;\n  }\n\n  \n"]);return g=function(){return n},n}function v(){var n=Object(a.a)(["\n  font-size:2rem;\n  color:",";\n"]);return v=function(){return n},n}function p(){var n=Object(a.a)(["\n  font-size:1rem;\n  margin-bottom:-1rem;\n  color:",";\n"]);return p=function(){return n},n}function O(){var n=Object(a.a)(["\n  width:60%;\n  text-align:left;\n  font-size:3rem;\n  padding-left:1rem;\n"]);return O=function(){return n},n}function j(){var n=Object(a.a)(["\n  width:40%;\n  text-align:right;\n\n  span{\n    font-size:3rem;\n    line-height:4rem;\n    color:",";\n  }\n"]);return j=function(){return n},n}function x(){var n=Object(a.a)(["\n  >div{\n    display:inline-block;\n    vertical-align:top;\n  }\n"]);return x=function(){return n},n}function k(){var n=Object(a.a)(["\n  span{\n\n  }\n"]);return k=function(){return n},n}function w(){var n=Object(a.a)(["\n  display:inline-block;\n  vertical-align:bottom;\n  width:65%;\n\n  list-style:none;\n  margin:0;\n  padding:0;\n"]);return w=function(){return n},n}function E(){var n=Object(a.a)(["\n  list-style:none;\n  padding:0;\n  margin:0;\n\n  position: absolute;\n  right: -2rem;\n  bottom: 25%;\n  transform: translate(-50%, -50%);\n"]);return E=function(){return n},n}function C(){var n=Object(a.a)(["\n  display:inline-block;\n  vertical-align:bottom;\n  width:35%;\n  height:100%;\n\n  position:relative;\n"]);return C=function(){return n},n}function y(){var n=Object(a.a)(["\n  text-align:left;\n  margin-left:.5rem;\n  white-space:nowrap;\n\n  >span{\n    &:nth-child(1){\n      font-size: 2rem;\n      line-height: 2rem;\n      color: ",";\n    }\n    &:nth-child(2){\n      font-size: 5rem;\n      line-height: 4rem;\n      color: ",";\n      text-shadow: 2px 2px 4px ",";\n    }\n  }\n"]);return y=function(){return n},n}function S(){var n=Object(a.a)(["\n  >span{\n    &:nth-child(1){\n    color: ",";\n    }\n    &:nth-child(2){\n      color: ",";\n    }\n  }\n"]);return S=function(){return n},n}function I(){var n=Object(a.a)(["\n  font-size: 3rem;\n  color: ",";\n"]);return I=function(){return n},n}function D(){var n=Object(a.a)(["\n  flex:1;\n"]);return D=function(){return n},n}function R(){var n=Object(a.a)(["\n  margin-top:1.5rem;\n  height:4rem;\n  width:100%;\n  display:flex;\n  align-items:baseline;\n\n  >div{\n    height:100%;\n  }\n"]);return R=function(){return n},n}function B(){var n=Object(a.a)(["\n  border-color: ",";\n  width: 50%;\n  padding:0;\n  margin:0 auto;\n"]);return B=function(){return n},n}function z(){var n=Object(a.a)(["\n  position:absolute;\n  left:4rem;\n  top:4rem;\n  right:0;\n  bottom:0;\n  width: 324px;\n  height: 242px;\n  z-index:1;\n  pointer-events:none;\n"]);return z=function(){return n},n}function M(){var n=Object(a.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  width:60rem;\n  height:60rem;\n  border: 2rem solid ",";\n  background-color:",";\n  border-radius: 50%;\n\n  &:hover{\n    box-shadow: 0 0 1rem .2rem ",";\n  }\n"]);return M=function(){return n},n}function L(){var n=Object(a.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index:-1;\n"]);return L=function(){return n},n}function A(){var n=Object(a.a)(["\n  pointer-events:none;\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return n},n}var T={};T.Container=i.b.div(A(),"","","","",""),T.Bg=i.b.div(L()),T.BgShape=i.b.div(M(),Object(s.a)("white"),Object(s.a)("blue"),Object(s.a)("white")),T.BgText=i.b.img(z()),T.StackEntryDivider=i.b.hr(B(),Object(s.a)("white")),T.StackEntryFooter=i.b.div(R()),T.SubScore=i.b.div(D()),T.SubScoreValue=i.b.span(I(),Object(s.a)("ui_blue")),T.SubScoreMultiplier=i.b.div(S(),Object(s.a)("ui_green"),Object(s.a)("white")),T.TotalScore=i.b.div(y(),Object(s.a)("white"),Object(s.a)("ui_yellow"),Object(s.a)("black")),T.StackPreview=i.b.div(C()),T.StackPreviewCenterer=i.b.ul(E()),T.StackMeta=i.b.ul(w()),T.NoMeta=i.b.li(k()),T.MetaLine=i.b.li(x()),T.MetaLineLeft=i.b.div(j(),Object(s.a)("ui_blue")),T.MetaLineRight=i.b.div(O()),T.MetaTag=i.b.p(p(),Object(s.a)("white")),T.MetaValue=i.b.p(v(),Object(s.a)("ui_green")),T.StackEntry=i.b.div(g()),T.StackDetailsBg=i.b.div(h(),Object(s.a)("blue")),T.Cards=i.b.div(m()),T.Details=i.b.div(b()),T.Total=i.b.div(f());var H;function P(n){var t=n.data;return c.a.createElement(T.MetaLine,null,c.a.createElement(T.MetaLineLeft,null,c.a.createElement(T.MetaTag,null,"".concat(t.tag)),c.a.createElement(T.MetaValue,null,t.value.toString())),c.a.createElement(T.MetaLineRight,null,c.a.createElement("span",null,t.score)))}function N(t){t.label,t.idx;var e=t.count,r=(t.cards,t.cardIdxs),a=t.score,o=t.subScore,i=t.meta,u=t.isShowing,l=function(t){var e=[null,null];return t.forEach((function(t){var r=n.document.querySelector("#card-".concat(t));if(r&&r.children[0]){var a=r.children[0].getBoundingClientRect(),o={x:a.left,y:a.top},c={x:a.right,y:a.bottom};e[0]?(o.x<e[0].x&&(e[0].x=o.x),o.y<e[0].y&&(e[0].y=o.y)):e[0]=o,e[1]?(c.x>e[1].x&&(e[1].x=c.x),c.y>e[1].y&&(e[1].y=c.y)):e[1]=c}})),e}(r),d={};return l&&l[0]&&(d={left:l[1].x,top:l[0].y}),c.a.createElement(T.StackEntry,{style:d,className:u?"showing":"hidden"},c.a.createElement(T.Details,null,i.length>0?c.a.createElement(T.StackMeta,null,i.map((function(n,t){return c.a.createElement(P,{key:t,data:n})}))):c.a.createElement(T.StackMeta,null,c.a.createElement(T.NoMeta,null,c.a.createElement("span",null,"no matching tags")))),c.a.createElement(T.Total,null,c.a.createElement("span",null,e),c.a.createElement("span",null," cards x "),c.a.createElement(T.SubScoreValue,null,o),c.a.createElement("span",null,"= "),c.a.createElement("span",null,a)),c.a.createElement(T.StackDetailsBg,null))}t.a=function(){var n=Object(o.useContext)(u.a),t=n.stacks,e=n.hand,a=n.focusedStackIdx,i=Object(o.useState)(!1),s=Object(r.a)(i,2),f=s[0],b=s[1],m=Object(o.useMemo)((function(){return d.a.calcCompleteStacks(t,e)}),[t,e]),h=Object(o.useMemo)((function(){return m.find((function(n){return n.idx===a}))}),[m,a]);function g(n){H&&(window.clearTimeout(H),H=null),H=window.setTimeout(n,1)}return Object(o.useEffect)((function(){h?a!==h.idx?b(!1):f||g((function(){b(!0)})):b(!1)}),[h,f,a,b]),c.a.createElement(T.Container,{id:"stack-data-container"},h&&c.a.createElement(N,{isShowing:f,cards:h.cardDetails,cardIdxs:h.cardIdxs,idx:h.idx,label:l.a.getStackLabel(h.idx),count:h.count,score:h.score,subScore:h.subScore,meta:h.meta}))}}).call(this,e(34))},26:function(n,t,e){n.exports=e(35)},3:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return a}));e(1),e(17),e(2);var r=function(n){return l.color[n]},a=function(n){return l.shadow[n]},o="400px",c="500px",i="768px",u="1024px",l=("(min-width: ".concat("300px",")"),"(min-width: ".concat(o,")"),"(min-width: ".concat(c,")"),"(min-width: ".concat(i,")"),"(min-width: ".concat(u,")"),{color:{black:"#000000",grey:"#373737",grey_light:"#A39F8E",white:"#ffffff",blue:"#225C87",green:"#238845",yellow:"#688722",orange:"#688722",purple:"#5E238C",pink:"#85227E",ui_blue:"#20F3FF",ui_orange:"#FD9410",ui_yellow:"#FDE010",ui_green:"#10FD21"},shadow:{z1:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)",z2:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)",z3:"-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)"},value:{headerHeight:"7.5rem",menuWidth:"12rem"},mixins:{},breakpoints:{mobile_tiny:"300px",mobile_medium:"400px",mobile_large:"500px",tablet:"768px",desktop:"1024px"}})},31:function(n,t,e){},35:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),o=e(16),c=e.n(o),i=(e(31),e(1)),u=e(2),l=e(6),d=e(4),s=e(8),f=e(5),b=e(3);function m(){var n=Object(i.a)(["\n  color:white;\n  position:absolute;\n  bottom:100%;\n"]);return m=function(){return n},n}function h(){var n=Object(i.a)(["\n  background-size: contain;\n  width:100%;\n  height:100%;\n  border-radius:1rem;\n"]);return h=function(){return n},n}function g(){var n=Object(i.a)(["\n    transform: scaleX(1.5) scaleY(1.5);\n    opacity: .5;\n    transition: transform .1s cubic-bezier(.42,.05,.86,.13), opacity .2s;\n  "]);return g=function(){return n},n}function v(){var n=Object(i.a)(["\n    box-shadow: 1px 3px 2px 4px ",";\n  "]);return v=function(){return n},n}function p(){var n=Object(i.a)(["\n    box-shadow: 1px 3px 2px 4px ",";\n  "]);return p=function(){return n},n}function O(){var n=Object(i.a)(["\n    left: -5rem;\n    top: -7.5rem;\n  "]);return O=function(){return n},n}function j(){var n=Object(i.a)(["\n    left: 0;\n    top: 0;\n  "]);return j=function(){return n},n}function x(){var n=Object(i.a)(["\n  position:absolute;\n  width:10rem;\n  height:15rem;\n  transform-origin: 50% 50%;\n  ","\n  \n  transition: transform .3s cubic-bezier(1,.05,.32,1.2), opacity .3s;\n  border-radius: 1rem;\n  \n  box-shadow: ",";\n  ","\n  ","\n\n  ","\n"]);return x=function(){return n},n}function k(){var n=Object(i.a)(["\n    position:absolute;\n  "]);return k=function(){return n},n}function w(){var n=Object(i.a)(["\n    display:inline-block;\n    position:relative;\n    width:10rem;\n    height:15rem;\n    top:-5rem;\n  "]);return w=function(){return n},n}function E(){var n=Object(i.a)(["\n    z-index:1000;\n  "]);return E=function(){return n},n}function C(){var n=Object(i.a)(["\n  background-color: ",";\n  border-radius:1rem;\n  color:black;\n  cursor:pointer;\n  z-index: ",";\n  ","\n\n  ","\n"]);return C=function(){return n},n}var y={};y.Card=u.b.div(C(),(function(n){return n.theme||"white"}),(function(n){return n.depth}),(function(n){return n.isDragging&&Object(u.a)(E())}),(function(n){return n.inHand?Object(u.a)(w()):Object(u.a)(k())})),y.InnerCard=u.b.div(x(),(function(n){return n.inHand?Object(u.a)(j()):Object(u.a)(O())}),Object(b.b)("z3"),(function(n){return"stacked"===n.stackStyle&&Object(u.a)(p(),Object(b.a)("ui_blue"))}),(function(n){return"focused"===n.stackStyle&&Object(u.a)(v(),Object(b.a)("ui_green"))}),(function(n){return n.isDragging&&Object(u.a)(g())})),y.Background=u.b.img(h()),y.DebugStatus=u.b.p(m());var S=function(n){var t=n.onMouseDown,e=n.onMouseOver,r=n.position,o=n.cardRef,c=n.stackStyle,i=n.dragPosition,u=n.inHand,l=n.data,d=n.theme,s=void 0===d?"white":d;return a.a.createElement(y.Card,{id:"card-".concat(l.cardIdx),theme:s,isDragging:!!i,onMouseDown:function(n){return t(n,l.cardIdx)},onMouseOver:function(n){return e(n,l.cardIdx,l.stackIdx)},depth:l.layer,ref:o,inHand:u,style:u?null:{left:"".concat(r.x,"px"),top:"".concat(r.y,"px")}},a.a.createElement(y.InnerCard,{isDragging:!!i,inHand:u,stackStyle:c},a.a.createElement(y.DebugStatus,null,Object(f.b)(l.status)),a.a.createElement(y.Background,{src:l.info.imageUrl,draggable:!1})))};var I=function(n){var t=n.data,e=n.theme,o=void 0===e?"white":e,c=Object(r.useContext)(l.a),i=c.actions,u=c.focusedStackIdx,b=Object(r.useState)({dragPosition:null,activeListener:!1}),m=Object(s.a)(b,2),h=m[0],g=m[1],v=Object(r.useRef)(null),p=Object(r.useCallback)((function(n,t,e){i.setFocusedCardIdx(t),i.setFocusedStackIdx(e)}),[i.setFocusedStackIdx,i.setFocusedCardIdx]),O=Object(r.useCallback)((function(n,t){var e=n.clientX,r=n.clientY;i.holdCard(t),g((function(n){return Object(d.a)(Object(d.a)({},n),{},{activeListener:!0,dragPosition:{x:e,y:r}})}))}),[i.holdCard]),j=Object(r.useCallback)((function(n){var t=n.clientX,e=n.clientY;g((function(n){return Object(d.a)(Object(d.a)({},n),{},{dragPosition:{x:t,y:e}})}))}),[]),x=Object(r.useCallback)((function(n){var e=n.clientX,r=n.clientY;g((function(n){return Object(d.a)(Object(d.a)({},n),{},{activeListener:!1,dragPosition:null})})),i.dropCard(t.cardIdx,"TABLE",{x:e,y:r})}),[t.cardIdx,i.dropCard]);Object(r.useEffect)((function(){h.activeListener?(v.current.addEventListener("mouseleave",x),v.current.addEventListener("mousemove",j),v.current.addEventListener("mouseup",x)):(v.current.removeEventListener("mouseleave",x),v.current.removeEventListener("mousemove",j),v.current.removeEventListener("mouseup",x))}),[h.activeListener]),Object(r.useEffect)((function(){h.initialized||g((function(n){return Object(d.a)(Object(d.a)({},n),{},{activeListener:!0,dragPosition:{x:t.position.x,y:t.position.y}})}))}),[h.initialized]);var k,w,E=(k=t.position,w=h.dragPosition,t.status===f.a.HAND?{x:0,y:0}:w?{x:w.x,y:w.y}:{x:k.x,y:k.y}),C=Object(r.useMemo)((function(){return-1===t.stackIdx?null:u===t.stackIdx?"focused":"stacked"}),[t.stackIdx,u]);return a.a.createElement(S,{data:t,theme:o,onMouseDown:O,onMouseOver:p,cardRef:v,inHand:!1,position:E,dragPosition:h.dragPosition,stackStyle:C})},D=e(7),R=e(9);function B(){var n=Object(i.a)(["\n  position:absolute;\n  padding-top: 1rem;\n  top:100%;\n  width:100%;\n  left:0;\n  text-align:center;\n  color:","\n"]);return B=function(){return n},n}function z(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:-1;\n  left:0;\n  top:0;\n  right:0;\n  bottom:0;\n  border-radius: 2rem;\n  border: 1rem solid white;\n"]);return z=function(){return n},n}function M(){var n=Object(i.a)(["\n  padding: .5rem 1.5rem;\n  font-size: 1rem;\n  background-color: ",";\n  border-radius: 1rem;\n  width: 100%;\n  font-weight: bold;\n  cursor:pointer;\n\n  border: .5rem solid ",";\n  color:",";\n  &:first-child{\n    margin-top:0;\n  }\n  margin-top: .5rem;\n\n  &:hover{\n    background-color: ",";\n    /* color:","; */\n    box-shadow: 0 0 1rem .2rem white;\n  }\n"]);return M=function(){return n},n}function L(){var n=Object(i.a)(["\n  width:15rem;\n  min-height:22rem;\n  padding:2rem;\n"]);return L=function(){return n},n}var A={};A.Container=u.b.div(L()),A.BasicButton=u.b.div(M(),Object(b.a)("purple"),Object(b.a)("white"),Object(b.a)("white"),Object(b.a)("green"),Object(b.a)("blue")),A.Bg=u.b.div(z()),A.ZoneText=u.b.p(B(),Object(b.a)("white"));var T=function(){var n=Object(r.useContext)(l.a).actions;return a.a.createElement(A.Container,null,a.a.createElement(A.BasicButton,{onClick:function(){return n.dealHand()},role:"button"},"DEAL"),a.a.createElement(A.BasicButton,{onClick:function(){return n.dealCard(1)},role:"button"},"DRAW 1 MORE"),a.a.createElement(A.BasicButton,{onClick:function(){return n.discardHand()},role:"button"},"DISCARD ALL"),a.a.createElement("hr",null),a.a.createElement(A.BasicButton,{onClick:function(){return n.dealCard(10)},role:"button"},"HIT 10"),a.a.createElement(A.BasicButton,{onClick:function(){return n.discardRandomCard()},role:"button"},"DISCARD RANDOM"),a.a.createElement(A.ZoneText,null,"DRAW"),a.a.createElement(A.Bg,null))},H=e(21),P=e(22),N=e(11),_=e(25),F=e(24);function Z(){var n=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  p{\n    opacity:0;\n    color: white;\n    transition: opacity .1s;\n    text-align:left;\n    margin-left:1rem;\n  }\n  transition: box-shadow 1s;\n\n  &:hover{\n    box-shadow: 0 0 1rem .2rem white;\n    transition-delay: .5s;\n    p{\n      opacity:1;\n      transition: opacity 1s;\n      transition-delay: .7s;\n    }\n  }\n"]);return Z=function(){return n},n}var G={};G.Container=u.b.div(Z());var W=function(n){Object(_.a)(e,n);var t=Object(F.a)(e);function e(n){var r;return Object(H.a)(this,e),(r=t.call(this,n)).zoneRef=a.a.createRef(),r.onWindowResize=r.onWindowResize.bind(Object(N.a)(r)),r}return Object(P.a)(e,[{key:"componentDidMount",value:function(){var n,t;window.addEventListener("resize",this.onWindowResize),this.context.actions.setZone("hand",null===(n=this.zoneRef)||void 0===n||null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(){var n,t;this.context.actions.setZone("hand",null===(n=this.zoneRef)||void 0===n||null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect())}},{key:"render",value:function(){return a.a.createElement(G.Container,{ref:this.zoneRef},a.a.createElement("p",null,"Return card to hand"))}}]),e}(a.a.Component);W.contextType=l.a;var U=W;function V(){var n=Object(i.a)(["\n  font-size:2rem;\n  color:",";\n"]);return V=function(){return n},n}function X(){var n=Object(i.a)(["\n  font-size:1rem;\n  margin-bottom:-1rem;\n  color:",";\n"]);return X=function(){return n},n}function J(){var n=Object(i.a)(["\n  width:60%;\n  text-align:left;\n  padding-left:1rem;\n"]);return J=function(){return n},n}function Y(){var n=Object(i.a)(["\n  width:40%;\n  text-align:right;\n\n  span{\n    font-size:3rem;\n    line-height:4rem;\n    color:",";\n  }\n"]);return Y=function(){return n},n}function q(){var n=Object(i.a)(["\n  >div{\n    display:inline-block;\n    vertical-align:bottom;\n  }\n"]);return q=function(){return n},n}function K(){var n=Object(i.a)(["\n  span{\n\n  }\n"]);return K=function(){return n},n}function $(){var n=Object(i.a)(["\n  display:inline-block;\n  vertical-align:bottom;\n  width:65%;\n\n  list-style:none;\n  margin:0;\n  padding:0;\n"]);return $=function(){return n},n}function Q(){var n=Object(i.a)(["\n  list-style:none;\n  padding:0;\n  margin:0;\n\n  position: absolute;\n  right: -2rem;\n  bottom: 25%;\n  transform: translate(-50%, -50%);\n"]);return Q=function(){return n},n}function nn(){var n=Object(i.a)(["\n  display:inline-block;\n  vertical-align:bottom;\n  width:35%;\n  height:100%;\n\n  position:relative;\n"]);return nn=function(){return n},n}function tn(){var n=Object(i.a)(["\n  text-align:left;\n  margin-left:.5rem;\n  white-space:nowrap;\n\n  >span{\n    &:nth-child(1){\n      font-size: 2rem;\n      line-height: 2rem;\n      color: ",";\n    }\n    &:nth-child(2){\n      font-size: 5rem;\n      line-height: 4rem;\n      color: ",";\n      text-shadow: 2px 2px 4px ",";\n    }\n  }\n"]);return tn=function(){return n},n}function en(){var n=Object(i.a)(["\n  >span{\n    &:nth-child(1){\n    color: ",";\n    }\n    &:nth-child(2){\n      color: ",";\n    }\n  }\n"]);return en=function(){return n},n}function rn(){var n=Object(i.a)(["\n  font-size: 3rem;\n  color: ",";\n"]);return rn=function(){return n},n}function an(){var n=Object(i.a)(["\n  text-align:right;\n  flex:1;\n"]);return an=function(){return n},n}function on(){var n=Object(i.a)(["\n  margin-top:1.5rem;\n  height:4rem;\n  width:100%;\n  display:flex;\n  align-items:baseline;\n\n  >div{\n    height:100%;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(i.a)(["\n  border-color: ",";\n  width: 50%;\n  padding:0;\n  margin:0 auto;\n"]);return cn=function(){return n},n}function un(){var n=Object(i.a)(["\n  height:15rem;\n  width:100%;\n"]);return un=function(){return n},n}function ln(){var n=Object(i.a)(["\n  position:absolute;\n  right:2rem;\n  bottom:2rem;\n  \n  width:40rem;\n  height:20rem;\n"]);return ln=function(){return n},n}function dn(){var n=Object(i.a)(["\n  position:absolute;\n  left:4rem;\n  top:4rem;\n  right:0;\n  bottom:0;\n  width: 324px;\n  height: 242px;\n  z-index:1;\n  pointer-events:none;\n"]);return dn=function(){return n},n}function sn(){var n=Object(i.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  width:60rem;\n  height:60rem;\n  border: 2rem solid ",";\n  background-color:",";\n  border-radius: 50%;\n\n  &:hover{\n    box-shadow: 0 0 1rem .2rem ",";\n  }\n"]);return sn=function(){return n},n}function fn(){var n=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index:-1;\n"]);return fn=function(){return n},n}function bn(){var n=Object(i.a)(["\n  pointer-events:none;\n"]);return bn=function(){return n},n}var mn={};mn.Container=u.b.div(bn()),mn.Bg=u.b.div(fn()),mn.BgShape=u.b.div(sn(),Object(b.a)("white"),Object(b.a)("blue"),Object(b.a)("white")),mn.BgText=u.b.img(dn()),mn.StackEntry=u.b.div(ln()),mn.StackEntryBody=u.b.div(un()),mn.StackEntryDivider=u.b.hr(cn(),Object(b.a)("white")),mn.StackEntryFooter=u.b.div(on()),mn.SubScore=u.b.div(an()),mn.SubScoreValue=u.b.span(rn(),Object(b.a)("ui_blue")),mn.SubScoreMultiplier=u.b.div(en(),Object(b.a)("ui_green"),Object(b.a)("white")),mn.TotalScore=u.b.div(tn(),Object(b.a)("white"),Object(b.a)("ui_yellow"),Object(b.a)("black")),mn.StackPreview=u.b.div(nn()),mn.StackPreviewCenterer=u.b.ul(Q()),mn.StackMeta=u.b.ul($()),mn.NoMeta=u.b.li(K()),mn.MetaLine=u.b.li(q()),mn.MetaLineLeft=u.b.div(Y(),Object(b.a)("ui_blue")),mn.MetaLineRight=u.b.div(J()),mn.MetaTag=u.b.p(X(),Object(b.a)("white")),mn.MetaValue=u.b.p(V(),Object(b.a)("ui_green"));var hn=function(n){var t=n.data,e=n.theme,o=void 0===e?"white":e,c=Object(r.useContext)(l.a).actions,i=Object(r.useState)({dragPosition:null}),u=Object(s.a)(i,2),d=u[0],f=(u[1],Object(r.useRef)(null)),b=Object(r.useCallback)((function(n,t,e){c.setFocusedCardIdx(t),c.setFocusedStackIdx(e)}),[c.setFocusedStackIdx,c.setFocusedCardIdx]),m=Object(r.useCallback)((function(n,t){var e=n.clientX,r=n.clientY;c.holdCard(t,{x:e,y:r})}),[c.holdCard,c.dropCard]);return a.a.createElement(S,{data:t,theme:o,onMouseDown:m,onMouseOver:b,cardRef:f,inHand:!0,position:{x:0,y:0},dragPosition:d.dragPosition,stackStyle:"hand"})};function gn(){var n=Object(i.a)(["\n  position:absolute;\n  width:100%;\n  height:6rem;\n  bottom:0px;\n\n  background-color:black;\n  border-top: 1rem solid white;\n"]);return gn=function(){return n},n}var vn={};vn.Hand=u.b.div(gn());var pn=function(){var n=Object(r.useContext)(l.a).hand,t=Object(r.useMemo)((function(){return n.filter((function(n){return n.status===f.a.HAND})).map((function(n,t){return Object(d.a)(Object(d.a)({},n),{},{handPosition:t})}))}),[n]);return a.a.createElement(vn.Hand,{id:"hand"},t.map((function(n){return a.a.createElement(hn,{data:n,key:n.cardIdx})})))},On=e(23),jn=0,xn=function(n){try{return n&&0!==n.length?n[n.length-1].cardIdx+1:0}catch(t){return console.error("couldnt get start index with hand",n),0}},kn={createDeckFromData:function(n,t,e){var r=0;return t.map((function(t){return{title:t.title||"no title",imageUrl:kn.getCompleteCardUrl(t,"./packs/".concat(n)),meta:kn.parseMeta(t.meta,e),deckIdx:r++}})).flat()},parseMeta:function(n,t){return n?n.map((function(n){return{tag:n[0],value:n[1],type:typeof n[1],score:t[n[0]]||0}})):[]},produceCard:function(n,t,e,r,a){var o=kn.filterDeckToWhatsLeft(e,t,r);if(!o||0===o.length)return console.warn("the deck is empty!"),null;var c=o[Math.floor(Math.random()*o.length)],i={x:250+(jn+=2),y:200+jn};return{cardIdx:n,deckIdx:c.deckIdx,info:c,status:f.a.HAND,layer:a,position:i}},getCardAtIdx:function(n,t){var e=n[t];return e||null},filterDeckToWhatsLeft:function(n,t,e){return e||(e=[]),t.filter((function(t,r){return!(n.find((function(n){return n.deckIdx===t.deckIdx}))||e.indexOf(t.deckIdx)>-1)}))},produceHand:function(n,t,e,r){var a=[],o=[],c=0;void 0===r&&(r=1),e?c=xn(e):e=[];for(var i=0;i<n;i++){var u=kn.produceCard(i+c,t,e,o,r++);u&&o.push(u.deckIdx),u&&a.push(u)}return a},produceDeckHand:function(n,t,e){var r=[],a=[],o=0;void 0===e&&(e=1),t?o=xn(t):t=[];for(var c=0;c<n.length;c++){var i=kn.produceCard(c+o,n,t,a,e++);i&&a.push(i.deckIdx),i&&r.push(i)}return r},getCompleteCardUrl:function(n,t){return n.assetPath?"".concat(t,"/assets/").concat(n.assetPath):n.imageUrl?n.imageUrl:"./assets/cards/sample.jpg"}},wn={rounds:[],cardPack:[],scoreMap:[],name:null},En={setRoundData:function(n,t){wn.rounds=n},setCardPackData:function(n,t,e){wn.scoreMap=t,wn.name=e;var r=0;wn.cardPack=n.map((function(n){return{id:n.id,title:n.title||"no title",imageUrl:kn.getCompleteCardUrl(n,"./packs/".concat(e)),meta:kn.parseMeta(n.meta,t),deckIdx:r++}})).flat()},getAdjacentRoundIdx:function(n,t){var e=n+t;return e<0?(console.log("round is below 0!"),-1):wn.rounds.length>e?e:(console.log("no more rounds!"),-1)},getRound:function(n){try{return wn.rounds[n]}catch(t){console.error("could not retrieve current round")}},getRoundDeck:function(n){if(console.log("getRoundDeck"),isNaN(n))return console.error("getRoundDeck missing valid roundIdx",n),[];if(En.getRound(n).deck){var t=En.getRound(n).deck;return En.getCardPack().filter((function(n){return t.indexOf(n.id)>-1}))}return En.getCardPack()},getRoundData:function(n){console.log("getRoundData",n,wn.rounds);try{return{idx:n,targetScore:wn.rounds[n].targetScore,title:wn.rounds[n].title}}catch(t){return{idx:-1,targetScore:2e3}}},getStore:function(){return wn},getCardPack:function(){return wn.cardPack},getNumRounds:function(){return wn.rounds.length}};function Cn(){var n=Object(i.a)(["\n    background-color: ",";\n  "]);return Cn=function(){return n},n}function yn(){var n=Object(i.a)(["\n  display:inline-block;\n  padding: .5rem 1.5rem;\n  margin:.5rem;\n  font-size: 1rem;\n  background-color: ",";\n  border-radius: 1rem;\n  font-weight: bold;\n  cursor:pointer;\n\n  border: .5rem solid ",";\n  color:",";\n  &:first-child{\n    margin-top:0;\n  }\n\n  &:hover{\n    background-color: ",";\n    /* color:","; */\n    box-shadow: 0 0 1rem .2rem white;\n  }\n\n  ","\n"]);return yn=function(){return n},n}function Sn(){var n=Object(i.a)(["\n  font-size:1rem;\n"]);return Sn=function(){return n},n}function In(){var n=Object(i.a)(["\n\n"]);return In=function(){return n},n}function Dn(){var n=Object(i.a)(["\n  position:absolute;\n  padding-top: 1rem;\n  top:100%;\n  width:100%;\n  left:0;\n  text-align:center;\n  color:","\n"]);return Dn=function(){return n},n}function Rn(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:-1;\n  left:0;\n  top:0;\n  right:0;\n  bottom:0;\n"]);return Rn=function(){return n},n}function Bn(){var n=Object(i.a)(["\n  /* padding:1rem; */\n"]);return Bn=function(){return n},n}var zn={};function Mn(n){var t=n.roundIdx,e=n.onClick,r=n.isActive;return a.a.createElement(zn.BasicButton,{isActive:r,onClick:function(){return e(t)},role:"button"},"".concat(t+1))}zn.Container=u.b.div(Bn()),zn.Bg=u.b.div(Rn()),zn.TextArea=u.b.div(Dn(),Object(b.a)("white")),zn.ZoneText=u.b.p(In()),zn.CardCount=u.b.p(Sn()),zn.BasicButton=u.b.div(yn(),Object(b.a)("purple"),Object(b.a)("white"),Object(b.a)("white"),Object(b.a)("green"),Object(b.a)("blue"),(function(n){return n.isActive&&Object(u.a)(Cn(),Object(b.a)("blue"))}));var Ln=function(){var n=Object(r.useContext)(l.a),t=n.roundData,e=n.deck,o=n.hand,c=n.actions,i=Object(r.useMemo)((function(){return e.length-o.length}),[e.length,o.length]);return a.a.createElement(zn.Container,null,a.a.createElement(zn.BasicButton,{onClick:function(){return c.prevRound()},role:"button"},"-"),function(n){for(var e=[],r=function(n){e.push(a.a.createElement(Mn,{key:n,roundIdx:n,isActive:t.idx===n,onClick:function(){return c.setRound(n)}}))},o=0;o<n;o++)r(o);return e}(En.getNumRounds()),a.a.createElement(zn.BasicButton,{onClick:function(){return c.nextRound()},role:"button"},"+"),a.a.createElement(zn.TextArea,null,a.a.createElement(zn.ZoneText,null,"Round: ".concat(t.idx+1,': "').concat(t.title,'"')),a.a.createElement(zn.CardCount,null,"".concat(i," cards left"))),a.a.createElement(zn.Bg,null))};function An(){var n=Object(i.a)(["\n  >p{\n    /* label */\n    &:nth-child(1){\n      color:white;\n    }\n    /* the score  */\n    &:nth-child(2){\n      font-size: 2rem;\n      color:",";\n    }\n  }\n"]);return An=function(){return n},n}function Tn(){var n=Object(i.a)(["\n  >p{\n    &:nth-child(1){\n      font-size:1.5rem;\n      color:",";\n    }\n\n    /* the score  */\n    &:nth-child(2){\n      font-size: 3rem;\n      margin-top: -1.5rem;\n      color:",";\n    }\n  }\n"]);return Tn=function(){return n},n}function Hn(){var n=Object(i.a)(["\n  >p{\n    &:nth-child(1){\n      font-size:2.5rem;\n      color:",";\n    }\n\n    /* the score  */\n    &:nth-child(2){\n      font-size: 5rem;\n      margin-top: -2.5rem;\n      margin-bottom: -1.5rem;\n      color:",";\n    }\n  }\n"]);return Hn=function(){return n},n}function Pn(){var n=Object(i.a)(["\n  text-align:right;\n"]);return Pn=function(){return n},n}function Nn(){var n=Object(i.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n  right:0;\n  bottom:0;\n  border: 2rem solid ",";\n  background-color:",";\n  border-radius: 50%;\n  z-index:-1;\n\n  &:hover{\n    box-shadow: 0 0 1rem .2rem ",";\n  }\n"]);return Nn=function(){return n},n}function _n(){var n=Object(i.a)(["\n  padding-right:11rem;\n  padding-top:10rem;\n  font-size:1rem;\n"]);return _n=function(){return n},n}var Fn={};Fn.Container=u.b.div(_n()),Fn.Bg=u.b.div(Nn(),Object(b.a)("white"),Object(b.a)("blue"),Object(b.a)("white")),Fn.ScoreGroup=u.b.div(Pn()),Fn.TotalScore=u.b.div(Hn(),Object(b.a)("white"),Object(b.a)("ui_blue")),Fn.TargetScore=u.b.div(Tn(),Object(b.a)("white"),Object(b.a)("ui_orange")),Fn.SubScore=u.b.div(An(),Object(b.a)("blue"));var Zn=function(){var n=Object(r.useContext)(l.a),t=n.stacks,e=n.hand,o=n.roundData,c=Object(r.useMemo)((function(){return R.a.calcCompleteStacks(t,e)}),[t,e]),i=Object(r.useMemo)((function(){return R.a.calcTotalScore(c)}),[c]);return Object(r.useMemo)((function(){return R.a.calcSpcScore(i,e.length)}),[i,e.length]),a.a.createElement(Fn.Container,null,a.a.createElement(Fn.ScoreGroup,null,a.a.createElement(Fn.TotalScore,null,a.a.createElement("p",null,"TOTAL"),a.a.createElement("p",null,i)),a.a.createElement(Fn.TargetScore,null,a.a.createElement("p",null,"TARGET"),a.a.createElement("p",null,o.targetScore))),a.a.createElement(Fn.Bg,null))};function Gn(){var n=Object(i.a)(["\n  position:absolute;\n  left:0;\n  top:0;\n"]);return Gn=function(){return n},n}function Wn(){var n=Object(i.a)(["\n\n"]);return Wn=function(){return n},n}function Un(){var n=Object(i.a)(["\n  width: 2000px;\n  top:0;\n  left:0;\n"]);return Un=function(){return n},n}function Vn(){var n=Object(i.a)(["\n  position: absolute;\n  top:0;\n  left:0;\n  background-color: ",";\n  width:100%;\n  height:100%;\n  z-index:-9999999;\n"]);return Vn=function(){return n},n}function Xn(){var n=Object(i.a)(["\n  position:absolute;\n  bottom:0rem;\n  left:0rem;\n  width: 100%;\n  height: 13rem;\n"]);return Xn=function(){return n},n}function Jn(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:1;\n  bottom: 0rem;\n  right: 0rem;\n  width: 46rem;\n  height: 30rem;\n"]);return Jn=function(){return n},n}function Yn(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:99999999;\n  top:-12rem;\n  right:-10rem;\n  width: 30rem;\n  height: 30rem;\n  pointer-events:none;\n"]);return Yn=function(){return n},n}function qn(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:99999999;\n  top:1rem;\n  left:16rem;\n  right:20rem;\n"]);return qn=function(){return n},n}function Kn(){var n=Object(i.a)(["\n  position:absolute;\n  z-index:99999999;\n  top:1rem;\n  left:1rem;\n"]);return Kn=function(){return n},n}function $n(){var n=Object(i.a)(["\n  position:relative;\n  width:100%;\n  height:100%;\n  overflow:hidden;\n"]);return $n=function(){return n},n}function Qn(){var n=Object(i.a)(["\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n  text-align:center;\n  z-index:2;\n"]);return Qn=function(){return n},n}var nt={};nt.Board=u.b.div(Qn()),nt.PlayArea=u.b.div($n()),nt.DrawZone=u.b.div(Kn()),nt.RoundZone=u.b.div(qn()),nt.InfoZone=u.b.div(Yn()),nt.StackInfoZone=u.b.div(Jn()),nt.DiscardZone=u.b.div(Xn()),nt.Bg=u.b.div(Vn(),Object(b.a)("black")),nt.BgImage=u.b.img(Un()),nt.CardContainer=u.b.div(Wn()),nt.HeldCardContainer=u.b.div(Gn());var tt=function(){var n=Object(r.useContext)(l.a),t=n.actions,e=n.hand,o=n.dataLoaded,c=Object(r.useCallback)((function(){t.setFocusedStackIdx(-1),t.setFocusedCardIdx(-1)}),[t.setFocusedStackIdx,t.setFocusedCardIdx]);Object(r.useEffect)((function(){var n=new URLSearchParams(window.location.search).get("pack");n?t.loadData(n):t.loadData()}),[t.loadData]);var i=Object(r.useMemo)((function(){return e.filter((function(n){return n.status>f.a.HAND&&n.status<f.a.DISCARDED}))}),[e]);return o?a.a.createElement(nt.Board,null,a.a.createElement(pn,null),a.a.createElement(nt.DrawZone,null,a.a.createElement(T,null)),a.a.createElement(nt.RoundZone,null,a.a.createElement(Ln,null)),a.a.createElement(nt.InfoZone,null,a.a.createElement("p",null,"info"),a.a.createElement(Zn,null)),a.a.createElement(nt.DiscardZone,null,a.a.createElement(U,{action:"discard"})),a.a.createElement(On.a,null),a.a.createElement(nt.CardContainer,{id:"cc"},i.map((function(n,t){return a.a.createElement(I,{data:n,key:n.cardIdx})}))),a.a.createElement(nt.Bg,{onMouseOver:c},a.a.createElement(nt.BgImage,{src:"./assets/bg/space.jpg"}))):a.a.createElement("h1",null,"Loading...")},et=function(n,t){console.log("loading data ".concat(n,"..."));var e=new XMLHttpRequest;e.open("GET",n),e.send(null),e.onreadystatechange=function(){try{if(4===e.readyState)if(200===e.status){console.log("...data was loaded!");var r=JSON.parse(e.responseText);t(r)}else console.error("Error loading data from ".concat(n,". Perhaps the file is not found?: "),e.status)}catch(a){console.error("Error loading data from ".concat(n,". Perhaps the JSON is malformed?"),a)}}},rt=0;var at=function(n){var t=n.children,e=Object(r.useState)(-1),o=Object(s.a)(e,2),c=o[0],i=o[1],u=Object(r.useState)(-1),b=Object(s.a)(u,2),m=b[0],h=b[1],g=Object(r.useState)(-1),v=Object(s.a)(g,2),p=v[0],O=v[1],j=Object(r.useState)([]),x=Object(s.a)(j,2),k=x[0],w=x[1],E=Object(r.useState)([]),C=Object(s.a)(E,2),y=C[0],S=C[1],I=Object(r.useState)([]),R=Object(s.a)(I,2),B=R[0],z=R[1],M=Object(r.useState)([]),L=Object(s.a)(M,2),A=L[0],T=L[1],H=Object(r.useState)(!1),P=Object(s.a)(H,2),N=P[0],_=P[1],F=Object(r.useState)({}),Z=Object(s.a)(F,2),G=Z[0],W=Z[1],U=Object(r.useCallback)((function(n){W(En.getRoundData(n))}),[W]),V=Object(r.useCallback)((function(n){var t="./packs/".concat(n=n||"traditional","/data.json");et(t,(function(n){try{console.log("heres your data",n),En.setRoundData(n.pack.rounds),En.setCardPackData(n.pack.cards,n.pack.scoreMap,n.pack.name);U(0),S(En.getRoundDeck(0)),_(!0)}catch(t){console.error("problem intializing data",t)}}))}),[_,U]),X=Object(r.useCallback)((function(n,t){var e=D.a.calcStacks(n);T(e);var r=n.map((function(n){return Object(d.a)(Object(d.a)({},n),{},{stackIdx:e.findIndex((function(t){return t.indexOf(n.cardIdx)>-1}))})}));w(r),t>-1&&h(r.find((function(n){return n.cardIdx===t})).stackIdx)}),[w,T,h]),J=Object(r.useCallback)((function(n){X(k.filter((function(t){return t.cardIdx!==n})))}),[X,k]),Y=Object(r.useCallback)((function(n){rt=1;var t=kn.produceHand(y.length-(n||0),En.getRoundDeck(G.idx),[],rt);rt+=t.length,X(t)}),[X,G.idx,y]),q=Object(r.useCallback)((function(n){var t=kn.produceHand(n,En.getRoundDeck(G.idx),k,rt);rt+=t.length,X(k.concat(t))}),[X,k,G.idx]),K=Object(r.useCallback)((function(){rt=1,X([])}),[X]),$=Object(r.useCallback)((function(){if(k.length>0){var n=Math.floor(Math.random()*k.length);J(k[n].cardIdx)}}),[J,k]),Q=Object(r.useCallback)((function(n,t){B.find((function(t){return t.id===n}))?z(B.map((function(e){return e.id===n?Object(d.a)(Object(d.a)({},e),{},{bounds:{top:t.top,left:t.left,right:t.right,bottom:t.bottom}}):e}))):z(B.concat([{id:n,bounds:{top:t.top,left:t.left,right:t.right,bottom:t.bottom}}]))}),[B,z]),nn=Object(r.useCallback)((function(){var n=En.getAdjacentRoundIdx(G.idx,1);n>-1?(K(),U(n),S(En.getRoundDeck(n))):console.log("nextRound, end of rounds!")}),[G.idx,U,K]),tn=Object(r.useCallback)((function(){var n=En.getAdjacentRoundIdx(G.idx,-1);n>-1?(K(),U(n),S(En.getRoundDeck(n))):console.log("nextRound, end of rounds!")}),[G.idx,U,K]),en=Object(r.useCallback)((function(n){En.getRound(n)?(K(),U(n),S(En.getRoundDeck(n))):console.log('setRound, roundIdx "'.concat(n,'" not found'))}),[U,K]),rn=function(n,t){return f.a[t]?f.a[t]:n===f.a.HAND_HOLDING?f.a.HAND:n===f.a.TABLE_HOLDING?f.a.TABLE:n},an=Object(r.useCallback)((function(n,t){i(n),X(k.map((function(e){if(e.cardIdx===n)return Object(d.a)(Object(d.a)({},e),{},{status:(r=e.status,r===f.a.HAND?f.a.HAND_HOLDING:r===f.a.TABLE?f.a.TABLE_HOLDING:r),position:t||e.position});var r,a=rn(e.status);return e.status!==a?Object(d.a)(Object(d.a)({},e),{},{status:a}):e})))}),[i,k,X]),on=Object(r.useCallback)((function(n){X(k.map((function(t){return t.cardIdx===n?Object(d.a)(Object(d.a)({},t),{},{status:f.a.HAND}):t})))}),[i,k,X]),cn=Object(r.useCallback)((function(n,t,e){i(-1),n===c&&i(-1);var r=k.find((function(t){return t.cardIdx===n}));if(r&&"TABLE"===t){var a=[];if(r&&(a=function(n,t){return t.filter((function(t){return n.x>t.bounds.left&&n.x<t.bounds.right&&n.y>t.bounds.top&&n.y<t.bounds.bottom}))}(e,B)),a.find((function(n){return"hand"===n.id})))return void on(n)}X(k.map((function(r){return r.cardIdx===n?Object(d.a)(Object(d.a)({},r),{},{status:rn(r.status,t),layer:rt++,position:e?{x:e.x,y:e.y}:r.position}):r})))}),[i,k,X,c,B,on]);return a.a.createElement(l.a.Provider,{value:{dataLoaded:N,deck:y,hand:k,stacks:A,zones:B,roundData:G,holdingIdx:c,focusedStackIdx:m,focusedCardIdx:p,actions:{nextRound:nn,prevRound:tn,setRound:en,dealHand:Y,dealCard:q,discardCard:J,discardRandomCard:$,discardHand:K,loadData:V,setZone:Q,setHoldingIdx:i,setFocusedStackIdx:h,setFocusedCardIdx:O,holdCard:an,dropCard:cn,placeCardInHand:on}}},t)};function ot(){var n=Object(i.a)(["\n  position:absolute;\n  width:100%;\n  height:100%;\n  overflow:hidden;\n"]);return ot=function(){return n},n}var ct={};ct.Container=u.b.div(ot()),window.gm=En,window.dm=kn;var it=function(){return a.a.createElement(ct.Container,null,a.a.createElement(at,null,a.a.createElement(tt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},5:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return a}));var r={DECK:0,HAND:1,HAND_HOLDING:2,TABLE:3,TABLE_HOLDING:4,DISCARDED:5},a=function(n){return Object.keys(r).find((function(t){return r[t]===n}))||"NULL"}},6:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e(0),a=e.n(r).a.createContext({holdingIdx:0,deck:[],hand:[]})},7:function(n,t,e){"use strict";var r=e(7),a=e(5),o=50,c=75,i=["A","B","C","D","E","F","G","H","I","J","K","L"];t.a={isThisInThat:function(n,t){return!(!n||!t)&&n.findIndex((function(n){return t.indexOf(n)>-1}))>-1},mergeArrays:function(n,t){return t=t||[],(n=n||[]).concat(t.filter((function(t){return n.indexOf(t)<0})))},produceBounds:function(n){return{left:n.x-o,top:n.y-c,right:n.x+o,bottom:n.y+c}},createBoundedHand:function(n){return n.filter((function(n){return n.status===a.a.TABLE})).map((function(n){return{cardIdx:n.cardIdx,bounds:r.a.produceBounds(n.position)}}))},doesOverlap:function(n,t){return n.top<=t.bottom&&n.bottom>=t.top&&n.left<=t.right&&n.right>=t.left},getGroupPairs:function(n){for(var t=[],e=0;e<n.length;e++)for(var a=e+1;a<n.length;a++)r.a.doesOverlap(n[e].bounds,n[a].bounds)&&t.push([n[e].cardIdx,n[a].cardIdx]);return t},createRawStacks:function(n){if(!n||0===n.length)return[];for(var t=[],e=n.slice();e.length>0;){var a=r.a.mutateForGroupPairs(t,e);t=a.stacks,e=a.groupPairs}return t},findStackWithMatch:function(n,t){return n.findIndex((function(n){return n.indexOf(t[0])>-1||n.indexOf(t[1])>-1}))},calcStacks:function(n){var t=r.a.createBoundedHand(n),e=r.a.getGroupPairs(t);return r.a.createRawStacks(e)},mutateForGroupPairs:function(n,t){for(var e=!1,a=t.length-1;a>=0;a--){var o=r.a.findStackWithMatch(n,t[a]);0===n.length?(n.push(t[a]),t.splice(a,1),e=!0):o>-1&&(n[o]=r.a.mergeArrays(n[o],t[a]),t.splice(a,1),e=!0)}return!e&&t.length>0&&n.push(t[t.length-1]),{stacks:n,groupPairs:t}},getStackColor:function(n){switch(n){case-1:return null;case 0:return"purple";case 1:return"blue";case 2:return"green";case 3:return"yellow";case 4:return"red";case 5:return"grey";default:return"black"}},getStackLabel:function(n){return i[n]||"*"}}},9:function(n,t,e){"use strict";var r=e(4),a=function(n,t){var e=function(n,t){return n.map((function(n){return t.find((function(t){return t.cardIdx===n}))}))}(n,t),a=[],o=[];return e.forEach((function(n){n.info.meta.forEach((function(n){var t,e,c=a.findIndex((function(t){return t.tag===n.tag}));c>-1?a[c].value===n.value?a[c]=(e=a[c],Object(r.a)(Object(r.a)({},e),{},{count:e.count+1})):-1===o.indexOf(n.tag)&&o.push(n.tag):a.push({tag:(t=n).tag,value:t.value,score:t.score,count:1})}))})),a.filter((function(n){return t=n.tag,!o.some((function(n){return n===t}));var t})).filter((function(t){return t.count===n.length}))},o=function(n,t){return n.map((function(n){var e=t.find((function(t){return t.cardIdx===n}));return Object(r.a)(Object(r.a)({},e.info),{},{layer:e.layer})})).sort((function(n,t){return n.layer>t.layer?1:-1}))};t.a={calcTotalScore:function(n){return n.reduce((function(n,t){return t.score+n}),0)},calcSpcScore:function(n,t){return t>0&&Math.round(n/t)||0},calcCompleteStacks:function(n,t){return n.map((function(n,e){var r=a(n,t);return{idx:e,cardIdxs:n,cardDetails:o(n,t),count:n.length,meta:r,subScore:r.reduce((function(n,t){return n+t.score}),0),score:r.reduce((function(n,t){return n+t.count*t.score}),0)}}))}}}},[[26,1,2]]]);
//# sourceMappingURL=main.b83cf157.chunk.js.map